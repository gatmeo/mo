\pitem[2012 Centroamerican Shortlist C1]{%
    Triland is a very unusual city. The city has the shape of an equilateral triangle of side $2012$. The streets divide the city into several blocks that are shaped like equilateral triangles of side $1$. There are streets at the border of Triland too. There are $6036$ streets in total. The mayor wants to put sentinel sites in some corners of the city to monitor the streets. A sentinel site can monitor every street in which it is located. What is the smallest number of sentinel sites that are required to monitor every street of Triland?
    }{%
    We prove the result for an equilateral triangle of side length $n,$ where $n$ is even.
We claim that for even $n,$ the minimum number of sentinel sites is $\frac{3}{2}n-1.$

Observe that there are $1+2+3+\cdots+n+(n+1)=\frac{(n+1)(n+2)}{2}$ sentinel sites in total. Now notice that for any point inside the equilateral triangle, the sum of the three altitudes from that point remains constant. Since the lengths of a given line through a point decreases linearly as the altitude perpendicular to that line increases linearly, it follows that the sum of the lengths of the lines through any point inside the equilateral triangle remains constant. Notice that the sum of the lengths is $2n,$ and we have the constraint that no length can exceed $n,$ which is the side length of the triangle, and obviously cannot be less than $0.$ Now, for every distinct triple $(x,y,z)$ of lengths that satisfies these conditions, we have a distinct triple $(n-x, n-y, n-z)=(a,b,c)$ for which $a+b+c=3n-2n=n$ and $(a,b,c)$ are integers. Notice that by counting with stars and bars, we can indeed verify as we still have $\dbinom{n+2}{2}=\frac{(n+1)(n+2)}{2}$ of these triples in total.

The problem is reduced to finding a set of least number of distinct triples $(a,b,c)$ with minimal cardinality such that each integer from $0$ to $n-1$ appears at least once in each position. Starting from $n-1,$ notice that the only possible triples are permutations of $(0,n-1,n).$ Since we want to minimize the number of triples, we want to try to make sure as many new distinct numbers appear in new positions in each new triple as soon as possible when we construct a set. Keeping this in mind, we choose $(0,1,n-1), (1,n-1,0), (n-1,0,1).$ Now consider $n-2.$ The only possibilities are permutations of either $(0,2,n-2)$ or $(1,1,n-2).$ Since we have already chosen $1$s from the previous set, it's optimal to choose the permutations $(0,2,n-2), (2,n-2,0), (n-2,0,2).$ Continuing similarly, we notice that for each new permutation we have whose greatest element is $(n-k),$ the optimal method is to choose the permutations $(0,k,n-k),$ since it takes care of both $n-k$ and $k;$ any lesser number than $k$ has already been chosen. We continue until $(0,\frac{n}{2},\frac{n}{2}),$ and here we only need two ordered pairs to take care of all three spots where $\frac{n}{2}$ must be. Since there are three permutations for each of the first $\frac{n}{2}-1$ pairs, and only two for the last case, there are $\frac{3}{2}n-1$ total sentinel sites needed. Plugging in $2012,$ we obtain $\boxed{3017}$ as our answer.

(as an aside, we can also obtain that for odd $n,$ only $\frac{3}{2}(n-1)$ sentinel sites are needed since we only need $\frac{n-1}{2}$ pairs)
    }{%
    https://artofproblemsolving.com/community/c6t219f6h2708086_triland_and_sentinel_sites
}
